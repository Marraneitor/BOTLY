/* ============================================================
   Botly — Dashboard Styles v2.0
   Premium Dark SaaS · Stripe/Linear/Vercel-level polish
   Glassmorphism · Ambient Depth · Micro-interactions
   ============================================================ */

/* ---------- Reset & Base ---------- */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

:root {
    /* ── Background Layers ── */
    --bg-base:        #050507;
    --bg-primary:     #0a0a0f;
    --bg-secondary:   #0f0f16;
    --bg-elevated:    #13131c;
    --bg-card:        rgba(255,255,255,0.025);
    --bg-card-hover:  rgba(255,255,255,0.05);
    --bg-input:       rgba(255,255,255,0.035);
    --bg-input-focus: rgba(255,255,255,0.06);

    /* ── Border / Glass ── */
    --border-subtle:  rgba(255,255,255,0.04);
    --border-default: rgba(255,255,255,0.07);
    --border-hover:   rgba(255,255,255,0.12);
    --border-strong:  rgba(255,255,255,0.18);

    /* ── Text ── */
    --text-primary:   #f0f0f5;
    --text-secondary: #9494a8;
    --text-muted:     #5a5a72;
    --text-faint:     #3a3a4a;

    /* ── Accent — Emerald ── */
    --accent:         #10b981;
    --accent-light:   #34d399;
    --accent-lighter: #6ee7b7;
    --accent-dark:    #059669;
    --accent-glow:    rgba(16,185,129,0.4);
    --accent-glow-lg: rgba(16,185,129,0.2);
    --accent-bg:      rgba(16,185,129,0.07);
    --accent-bg-strong: rgba(16,185,129,0.12);

    /* ── Danger — Ruby ── */
    --danger:         #ef4444;
    --danger-dark:    #dc2626;
    --danger-glow:    rgba(239,68,68,0.25);
    --danger-bg:      rgba(239,68,68,0.07);

    /* ── Warning — Amber ── */
    --warning:        #f59e0b;
    --warning-bg:     rgba(245,158,11,0.08);
    --warning-glow:   rgba(245,158,11,0.2);

    /* ── Indigo (incoming msgs) ── */
    --indigo:         #818cf8;
    --indigo-bg:      rgba(129,140,248,0.08);

    /* ── Sizes ── */
    --sidebar-w:      240px;
    --radius-xs:      6px;
    --radius-sm:      10px;
    --radius:         16px;
    --radius-lg:      20px;
    --radius-xl:      24px;

    /* ── Glass ── */
    --glass-blur:     blur(24px);
    --glass-bg:       rgba(255,255,255,0.025);
    --glass-border:   1px solid var(--border-default);

    /* ── Shadows ── */
    --shadow-xs:   0 1px 2px rgba(0,0,0,.35);
    --shadow-sm:   0 2px 6px rgba(0,0,0,.3), 0 1px 2px rgba(0,0,0,.2);
    --shadow-md:   0 4px 20px rgba(0,0,0,.4), 0 2px 6px rgba(0,0,0,.2);
    --shadow-lg:   0 8px 40px rgba(0,0,0,.5), 0 4px 12px rgba(0,0,0,.3);
    --shadow-xl:   0 16px 64px rgba(0,0,0,.6), 0 8px 24px rgba(0,0,0,.3);
    --shadow-glow-green:   0 0 20px rgba(16,185,129,.25), 0 0 60px rgba(16,185,129,.08);
    --shadow-glow-green-lg: 0 4px 40px rgba(16,185,129,.3), 0 0 80px rgba(16,185,129,.12);

    /* ── Transitions ── */
    --ease-out: cubic-bezier(.2, .8, .2, 1);
    --ease-spring: cubic-bezier(.34, 1.56, .64, 1);
    --t-fast:  .15s var(--ease-out);
    --t-base:  .25s var(--ease-out);
    --t-slow:  .4s  var(--ease-out);
    --t-color: .2s ease;
}

html { font-size: 16px; scroll-behavior: smooth; }

body {
    font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', sans-serif;
    background: var(--bg-base);
    color: var(--text-primary);
    display: flex;
    min-height: 100vh;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    line-height: 1.6;
    letter-spacing: -0.01em;
}

/* ── Ambient atmosphere background ── */
body::before {
    content: '';
    position: fixed; inset: 0; z-index: 0;
    background:
        radial-gradient(ellipse 80% 60% at 10% 20%, rgba(16,185,129,.04) 0%, transparent 60%),
        radial-gradient(ellipse 60% 50% at 85% 75%, rgba(99,102,241,.03) 0%, transparent 55%),
        radial-gradient(ellipse 50% 40% at 50% 0%, rgba(16,185,129,.025) 0%, transparent 50%),
        linear-gradient(180deg, #050507 0%, #08080d 40%, #0a0a10 100%);
    pointer-events: none;
}

/* ── Subtle noise texture overlay ── */
body::after {
    content: '';
    position: fixed; inset: 0; z-index: 0;
    opacity: .018;
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)'/%3E%3C/svg%3E");
    pointer-events: none;
}

/* ---------- Scrollbar ---------- */
::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
    background: var(--text-faint);
    border-radius: 10px;
}
::-webkit-scrollbar-thumb:hover { background: var(--text-muted); }

/* ---------- Shared Animations ---------- */
@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(20px); }
    to   { opacity: 1; transform: translateY(0); }
}

@keyframes fadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}

@keyframes slideInRight {
    from { opacity: 0; transform: translateX(-12px); }
    to   { opacity: 1; transform: translateX(0); }
}

@keyframes skeletonPulse {
    0%, 100% { opacity: .4; }
    50%      { opacity: .12; }
}

@keyframes neonPulse {
    0%, 100% { box-shadow: 0 0 8px var(--accent-glow), 0 0 24px rgba(16,185,129,.12); }
    50%      { box-shadow: 0 0 16px var(--accent-glow), 0 0 48px rgba(16,185,129,.18); }
}

@keyframes dotPulse {
    0%, 100% { box-shadow: 0 0 0 0 rgba(16,185,129,.5); }
    50%      { box-shadow: 0 0 0 8px rgba(16,185,129,0); }
}

@keyframes shimmer {
    0%   { background-position: -200% 0; }
    100% { background-position: 200% 0; }
}

@keyframes borderGlow {
    0%, 100% { border-color: rgba(16,185,129,.3); }
    50%      { border-color: rgba(16,185,129,.6); }
}

@keyframes float {
    0%, 100% { transform: translateY(0); }
    50%      { transform: translateY(-6px); }
}

/* ============================================================
   SIDEBAR
   ============================================================ */
.sidebar {
    position: fixed; top: 0; left: 0;
    width: var(--sidebar-w);
    height: 100vh;
    background: rgba(10,10,18,0.7);
    backdrop-filter: blur(32px) saturate(1.4);
    -webkit-backdrop-filter: blur(32px) saturate(1.4);
    border-right: 1px solid var(--border-subtle);
    color: var(--text-primary);
    display: flex;
    flex-direction: column;
    z-index: 100;
    transition: transform var(--t-slow);
}

/* Sidebar ambient glow line on the right edge */
.sidebar::after {
    content: '';
    position: absolute; top: 15%; right: -1px;
    width: 1px; height: 70%;
    background: linear-gradient(
        180deg,
        transparent 0%,
        rgba(16,185,129,.15) 30%,
        rgba(16,185,129,.25) 50%,
        rgba(16,185,129,.15) 70%,
        transparent 100%
    );
    pointer-events: none;
}

.sidebar__brand {
    display: flex; align-items: center; gap: .75rem;
    padding: 1.5rem 1.25rem 1.25rem;
    font-size: 1.2rem; font-weight: 700;
    letter-spacing: -.4px;
    border-bottom: 1px solid var(--border-subtle);
    position: relative;
}

.sidebar__logo {
    width: 32px; height: 32px;
    border-radius: 8px;
    object-fit: contain;
    filter: drop-shadow(0 0 8px rgba(16,185,129,.3));
}

.sidebar__nav {
    flex: 1;
    padding: 1rem .65rem;
    display: flex; flex-direction: column; gap: 2px;
}

.sidebar__link {
    display: flex; align-items: center; gap: .75rem;
    padding: .7rem 1rem;
    color: var(--text-muted);
    text-decoration: none;
    font-size: .86rem; font-weight: 500;
    border-radius: var(--radius-sm);
    border: 1px solid transparent;
    transition: all var(--t-base);
    position: relative;
}
.sidebar__link svg {
    width: 18px; height: 18px; flex-shrink: 0;
    stroke-width: 1.7;
    transition: color var(--t-base), transform var(--t-base);
}

.sidebar__link:hover {
    color: var(--text-secondary);
    background: rgba(255,255,255,.03);
    transform: translateX(2px);
}
.sidebar__link:hover svg {
    color: var(--text-secondary);
}

.sidebar__link--active {
    color: var(--text-primary);
    background: linear-gradient(135deg, rgba(16,185,129,.1) 0%, rgba(16,185,129,.03) 100%);
    border-color: rgba(16,185,129,.12);
    box-shadow: 0 0 20px rgba(16,185,129,.05);
}
.sidebar__link--active svg {
    color: var(--accent);
    filter: drop-shadow(0 0 4px rgba(16,185,129,.3));
}

/* Active indicator line */
.sidebar__link--active::before {
    content: '';
    position: absolute; left: -1px; top: 25%; bottom: 25%;
    width: 3px;
    background: linear-gradient(180deg, var(--accent-light), var(--accent));
    border-radius: 0 4px 4px 0;
    box-shadow: 0 0 12px var(--accent-glow);
}

.sidebar__footer {
    padding: 1rem 1.25rem;
    border-top: 1px solid var(--border-subtle);
}

.sidebar__logout {
    display: flex; align-items: center; gap: .5rem;
    width: 100%;
    background: none; border: none; color: var(--text-muted);
    cursor: pointer; font-size: .82rem; font-weight: 500;
    transition: color var(--t-base);
    font-family: inherit;
    padding: .5rem .25rem;
    border-radius: var(--radius-xs);
}
.sidebar__logout svg { width: 16px; height: 16px; stroke-width: 1.7; }
.sidebar__logout:hover {
    color: var(--danger);
}

/* User bar in sidebar */
.sidebar__user {
    display: flex; align-items: center; gap: .6rem;
    padding: .7rem .85rem;
    margin: 0 .65rem .65rem;
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,.02);
    border: 1px solid var(--border-subtle);
    transition: all var(--t-base);
}
.sidebar__user:hover {
    background: rgba(255,255,255,.04);
    border-color: var(--border-default);
}
.sidebar__user-avatar {
    width: 32px; height: 32px;
    border-radius: 50%;
    background: linear-gradient(135deg, var(--accent-dark), var(--accent));
    display: flex; align-items: center; justify-content: center;
    color: #fff; font-weight: 700; font-size: .75rem;
    flex-shrink: 0;
    overflow: hidden;
    box-shadow: 0 0 12px rgba(16,185,129,.2);
}
.sidebar__user-avatar img { width: 100%; height: 100%; object-fit: cover; }
.sidebar__user-info { overflow: hidden; }
.sidebar__user-name {
    font-size: .78rem; font-weight: 600; color: var(--text-primary);
    white-space: nowrap; text-overflow: ellipsis; overflow: hidden; display: block;
}
.sidebar__user-email {
    font-size: .68rem; color: var(--text-muted);
    white-space: nowrap; text-overflow: ellipsis; overflow: hidden; display: block;
}

/* Hamburger (mobile) */
.hamburger {
    display: none;
    position: fixed; top: 1rem; left: 1rem;
    z-index: 200;
    width: 40px; height: 40px;
    background: rgba(15,15,22,0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-xs);
    cursor: pointer;
    flex-direction: column; justify-content: center; align-items: center; gap: 5px;
    transition: all var(--t-base);
}
.hamburger:hover {
    border-color: var(--border-hover);
    background: rgba(15,15,22,0.95);
}
.hamburger span {
    display: block; width: 20px; height: 1.5px;
    background: var(--text-primary); border-radius: 2px;
    transition: var(--t-base);
}

/* ============================================================
   MAIN CONTENT
   ============================================================ */
.main {
    margin-left: var(--sidebar-w);
    flex: 1;
    padding: 2.5rem 2.5rem;
    max-width: 1000px;
    position: relative;
    z-index: 1;
}

/* Sections */
.section { animation: fadeInUp .5s var(--ease-out) both; }
.section--hidden { display: none !important; }

.section__title {
    font-size: 1.75rem; font-weight: 700;
    margin-bottom: .3rem;
    letter-spacing: -.6px;
    background: linear-gradient(135deg, var(--text-primary) 0%, rgba(240,240,245,.7) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.section__subtitle {
    color: var(--text-secondary);
    margin-bottom: 2rem;
    font-size: .9rem;
    line-height: 1.5;
}

/* ============================================================
   CARDS (Dashboard)
   ============================================================ */
.cards {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1rem;
    margin-bottom: 2.25rem;
}

.card {
    background: var(--bg-card);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: 1.35rem 1.25rem;
    display: flex; align-items: center; gap: 1rem;
    transition: all var(--t-base);
    animation: fadeInUp .5s var(--ease-out) both;
    position: relative;
    overflow: hidden;
}
.card:nth-child(1) { animation-delay: .05s; }
.card:nth-child(2) { animation-delay: .12s; }
.card:nth-child(3) { animation-delay: .19s; }

/* Subtle inner glow on top edge */
.card::before {
    content: '';
    position: absolute; top: 0; left: 20%; right: 20%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    pointer-events: none;
}

.card:hover {
    background: var(--bg-card-hover);
    transform: translateY(-4px);
    box-shadow: var(--shadow-md), 0 8px 32px -8px rgba(16,185,129,.08);
    border-color: var(--border-hover);
}

.card__icon {
    width: 48px; height: 48px;
    border-radius: 14px;
    background: rgba(255,255,255,.03);
    border: 1px solid var(--border-default);
    display: grid; place-items: center;
    flex-shrink: 0;
    transition: all var(--t-base);
}
.card:hover .card__icon {
    border-color: var(--border-hover);
}
.card__icon svg {
    width: 22px; height: 22px;
    color: var(--text-secondary);
    stroke-width: 1.5;
}

.card__icon--connected {
    background: var(--accent-bg-strong);
    border-color: rgba(16,185,129,.25);
    box-shadow: var(--shadow-glow-green);
    animation: neonPulse 2.5s ease-in-out infinite;
}
.card__icon--connected svg { color: var(--accent-light); }

.card__icon--disconnected {
    background: var(--danger-bg);
    border-color: rgba(239,68,68,.15);
}
.card__icon--disconnected svg { color: var(--danger); }

.card__label {
    display: block; font-size: .7rem; color: var(--text-muted);
    margin-bottom: 3px; text-transform: uppercase;
    letter-spacing: .6px; font-weight: 600;
}
.card__value {
    font-size: 1.2rem; font-weight: 700;
    letter-spacing: -.02em;
}

/* Quick actions */
.quick-actions { margin-top: .75rem; }
.quick-actions__title {
    font-size: 1rem; font-weight: 600;
    margin-bottom: .85rem; color: var(--text-secondary);
}

/* ============================================================
   BUTTONS
   ============================================================ */
.btn {
    display: inline-flex; align-items: center; gap: .5rem;
    padding: .65rem 1.3rem;
    font-size: .86rem; font-weight: 600;
    border: 1px solid transparent; border-radius: var(--radius-sm);
    cursor: pointer;
    transition: all var(--t-base);
    line-height: 1.2;
    font-family: inherit;
    position: relative;
    overflow: hidden;
    letter-spacing: -.01em;
}
.btn svg { width: 16px; height: 16px; stroke-width: 2; }

.btn--primary {
    background: linear-gradient(135deg, var(--text-primary) 0%, #d4d4dc 100%);
    color: var(--bg-primary);
    border-color: transparent;
    box-shadow: 0 1px 3px rgba(0,0,0,.2);
}
.btn--primary:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(240,240,242,.12), 0 2px 8px rgba(0,0,0,.2);
    filter: brightness(1.05);
}

.btn--success {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
    color: #fff;
    border-color: transparent;
    box-shadow: 0 2px 8px rgba(16,185,129,.2);
}
.btn--success:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-glow-green), 0 4px 16px rgba(16,185,129,.25);
    filter: brightness(1.1);
}

.btn--danger {
    background: rgba(239,68,68,.08);
    color: var(--danger);
    border: 1px solid rgba(239,68,68,.18);
}
.btn--danger:hover {
    background: var(--danger);
    color: #fff;
    transform: translateY(-2px);
    box-shadow: 0 8px 24px var(--danger-glow);
}

.btn--ghost {
    background: transparent;
    color: var(--text-secondary);
    border: 1px solid var(--border-hover);
}
.btn--ghost:hover {
    background: rgba(255,255,255,.04);
    color: var(--text-primary);
    border-color: var(--border-strong);
    transform: translateY(-1px);
}

.btn--warning {
    background: rgba(245,158,11,.08);
    color: var(--warning);
    border: 1px solid rgba(245,158,11,.2);
    display: inline-flex; align-items: center; gap: .5rem;
    padding: .65rem 1.3rem;
    font-size: .88rem; font-weight: 600;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-family: inherit;
    transition: all var(--t-base);
}
.btn--warning:hover {
    background: rgba(245,158,11,.15);
    border-color: rgba(245,158,11,.35);
    box-shadow: 0 0 20px var(--warning-glow);
    transform: translateY(-1px);
}
.btn--warning:disabled { opacity: .5; pointer-events: none; }
.btn--warning svg { width: 18px; height: 18px; flex-shrink: 0; }

.btn--lg {
    padding: .8rem 1.8rem; font-size: .92rem;
    border-radius: 12px;
}

.btn--sm {
    padding: .45rem .85rem; font-size: .8rem;
    display: inline-flex; align-items: center; gap: .4rem;
}

.btn:disabled {
    opacity: .3; cursor: not-allowed;
    transform: none !important;
    box-shadow: none !important;
    filter: none !important;
}

/* ============================================================
   FORMS
   ============================================================ */
.form { display: flex; flex-direction: column; gap: 1.6rem; }

.form__group { display: flex; flex-direction: column; gap: .45rem; }

.form__label {
    font-size: .76rem; font-weight: 600;
    color: var(--text-secondary);
    text-transform: uppercase;
    letter-spacing: .5px;
}

.form__input,
.form__textarea {
    padding: .7rem .9rem;
    border: 1px solid var(--border-default);
    border-radius: var(--radius-sm);
    font-size: .88rem;
    font-family: inherit;
    background: var(--bg-input);
    color: var(--text-primary);
    transition: all var(--t-base);
    line-height: 1.5;
}
.form__input::placeholder,
.form__textarea::placeholder { color: var(--text-faint); }

.form__input:hover,
.form__textarea:hover {
    border-color: var(--border-hover);
    background: rgba(255,255,255,.045);
}

.form__input:focus,
.form__textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(16,185,129,.12), 0 0 20px rgba(16,185,129,.06);
    background: var(--bg-input-focus);
}

.form__input--sm { max-width: 130px; padding: .5rem .65rem; font-size: .85rem; }

.form__textarea--lg { min-height: 180px; resize: vertical; }

.form__hint {
    font-size: .73rem; color: var(--text-muted); margin-top: .2rem;
    line-height: 1.4;
}

.form__fieldset {
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: 1.35rem;
    background: var(--bg-card);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    transition: border-color var(--t-base);
}
.form__fieldset:hover { border-color: var(--border-hover); }

.form__legend {
    font-size: .9rem; font-weight: 600;
    padding: 0 .5rem; color: var(--text-primary);
}

.form__actions {
    display: flex; gap: .75rem; flex-wrap: wrap;
    padding-top: .75rem;
}

/* Schedule grid */
.schedule-grid { display: flex; flex-direction: column; gap: .65rem; margin-top: .85rem; }

.schedule-row {
    display: flex; align-items: center; gap: .75rem;
    flex-wrap: wrap;
    padding: .35rem .5rem;
    border-radius: var(--radius-xs);
    transition: background var(--t-fast);
}
.schedule-row:hover { background: rgba(255,255,255,.02); }

.schedule-row__day {
    width: 90px; font-size: .83rem; font-weight: 500;
    color: var(--text-secondary);
}
.schedule-row__sep { font-size: .82rem; color: var(--text-muted); }

/* Toggle switch */
.toggle { position: relative; display: inline-block; width: 44px; height: 24px; }
.toggle input { opacity: 0; width: 0; height: 0; }
.toggle__slider {
    position: absolute; inset: 0;
    background: rgba(255,255,255,.08);
    border-radius: 24px;
    cursor: pointer;
    transition: all var(--t-base);
    border: 1px solid var(--border-default);
}
.toggle__slider::before {
    content: '';
    position: absolute; left: 3px; top: 3px;
    width: 16px; height: 16px;
    background: var(--text-muted);
    border-radius: 50%;
    transition: all var(--t-base);
    box-shadow: var(--shadow-xs);
}
.toggle input:checked + .toggle__slider {
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    border-color: rgba(16,185,129,.3);
    box-shadow: 0 0 12px rgba(16,185,129,.2);
}
.toggle input:checked + .toggle__slider::before {
    transform: translateX(20px);
    background: #fff;
    box-shadow: 0 1px 4px rgba(0,0,0,.3);
}

/* ============================================================
   CONNECTION PANEL
   ============================================================ */
.connection-panel {
    display: grid;
    grid-template-columns: 300px 1fr;
    gap: 1.75rem;
    align-items: start;
}

.qr-container {
    background: var(--bg-card);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-xl);
    padding: 1.75rem;
    display: grid; place-items: center;
    min-height: 320px;
    transition: all var(--t-base);
    animation: fadeInUp .5s var(--ease-out) both;
    position: relative;
    overflow: hidden;
}

/* Top shine on QR panel */
.qr-container::before {
    content: '';
    position: absolute; top: 0; left: 10%; right: 10%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(16,185,129,.15), transparent);
    pointer-events: none;
}

.qr-container:hover {
    border-color: var(--border-hover);
    box-shadow: var(--shadow-md);
}

.qr-placeholder {
    text-align: center; color: var(--text-muted);
    display: flex; flex-direction: column; align-items: center; gap: .85rem;
}
.qr-placeholder__icon {
    width: 64px; height: 64px;
    animation: skeletonPulse 2s ease-in-out infinite;
    stroke-width: 1;
    opacity: .5;
}
.qr-placeholder p {
    font-size: .9rem;
    font-weight: 500;
    background: linear-gradient(90deg, var(--text-muted) 0%, var(--text-secondary) 50%, var(--text-muted) 100%);
    background-size: 200% 100%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
    animation: shimmer 2.5s ease infinite;
}
.qr-placeholder__hint {
    font-size: .75rem;
    -webkit-text-fill-color: initial;
    color: var(--text-muted);
}

.qr-canvas { width: 300px; height: 300px; border-radius: 12px; overflow: hidden; background: #fff; padding: 8px; box-sizing: border-box; }
.qr-canvas img { display: block; width: 100%; height: 100%; }
.qr-canvas--hidden { display: none; }

.connection-info {
    display: flex; flex-direction: column; gap: 1.35rem;
    animation: fadeInUp .5s var(--ease-out) .1s both;
}

.connection-status {
    display: flex; align-items: center; gap: .65rem;
    font-size: 1rem; font-weight: 600;
}

.status-dot {
    width: 10px; height: 10px;
    border-radius: 50%;
    display: inline-block;
    transition: all var(--t-base);
}
.status-dot--off {
    background: var(--danger);
    box-shadow: 0 0 8px var(--danger-glow);
}
.status-dot--on {
    background: var(--accent);
    animation: dotPulse 1.5s infinite;
    box-shadow: 0 0 12px var(--accent-glow);
}

.connection-steps {
    background: var(--bg-card);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-lg);
    padding: 1.35rem;
    transition: border-color var(--t-base);
    animation: fadeInUp .5s var(--ease-out) .15s both;
}
.connection-steps:hover { border-color: var(--border-hover); }

.connection-steps h3 {
    font-size: .92rem; margin-bottom: .85rem;
    color: var(--text-primary); font-weight: 600;
}
.connection-steps ol {
    padding-left: 1.35rem; font-size: .85rem;
    color: var(--text-secondary); line-height: 1.6;
}
.connection-steps li { margin-bottom: .5rem; }
.connection-steps li strong { color: var(--accent-light); }

.connection-actions {
    display: flex; gap: .75rem; flex-wrap: wrap;
    animation: fadeInUp .5s var(--ease-out) .2s both;
}

/* ============================================================
   MESSAGES / INBOX
   ============================================================ */

/* --- Inbox Header --- */
.inbox-header {
    display: flex; align-items: center; justify-content: space-between;
    flex-wrap: wrap; gap: .85rem;
    margin-bottom: 1.25rem;
}
.inbox-header__actions {
    display: flex; align-items: center; gap: .6rem; flex-wrap: wrap;
}
.inbox-search {
    width: 240px; padding: .55rem .9rem !important;
    font-size: .85rem !important;
    border-radius: var(--radius-sm) !important;
    background: var(--bg-input) !important;
    border: 1px solid var(--border-default) !important;
    transition: all var(--t-base) !important;
}
.inbox-search:focus {
    border-color: var(--accent) !important;
    box-shadow: 0 0 0 3px rgba(16,185,129,.12) !important;
}

/* --- Inbox Empty --- */
.inbox-empty {
    text-align: center; color: var(--text-muted);
    padding: 5rem 1rem;
    animation: fadeInUp .5s var(--ease-out) both;
    display: flex; flex-direction: column; align-items: center;
}
.inbox-empty svg {
    width: 72px; height: 72px; margin-bottom: 1.25rem;
    stroke-width: 1; opacity: .4;
}
.inbox-empty p { font-size: .95rem; margin-bottom: .3rem; color: var(--text-secondary); }
.inbox-empty span { font-size: .82rem; }

/* --- Inbox List --- */
.inbox-list {
    display: flex; flex-direction: column; gap: .4rem;
    max-height: 68vh; overflow-y: auto;
}

/* --- Inbox Item (conversation row) --- */
.inbox-item {
    display: flex; align-items: center; gap: .85rem;
    padding: .9rem 1.1rem;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    background: var(--bg-card);
    cursor: pointer;
    transition: all var(--t-base);
    animation: fadeInUp .3s var(--ease-out) both;
}
.inbox-item:hover {
    background: var(--bg-card-hover);
    border-color: rgba(16,185,129,.2);
    transform: translateX(4px);
    box-shadow: 0 4px 16px rgba(0,0,0,.15), -4px 0 0 0 var(--accent);
}
.inbox-item__avatar {
    width: 44px; height: 44px; flex-shrink: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(129,140,248,.15), rgba(16,185,129,.15));
    border: 1px solid var(--border-default);
    display: flex; align-items: center; justify-content: center;
    color: var(--text-primary); font-weight: 700; font-size: .82rem;
    letter-spacing: .02em;
    transition: all var(--t-base);
}
.inbox-item:hover .inbox-item__avatar {
    border-color: rgba(16,185,129,.3);
    box-shadow: 0 0 12px rgba(16,185,129,.1);
}
.inbox-item__body { flex: 1; min-width: 0; }
.inbox-item__top {
    display: flex; align-items: center; justify-content: space-between; gap: .5rem;
    margin-bottom: .25rem;
}
.inbox-item__name {
    font-weight: 600; font-size: .9rem; color: var(--text-primary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.inbox-item__time {
    font-size: .72rem; color: var(--text-muted); flex-shrink: 0;
    font-variant-numeric: tabular-nums;
}
.inbox-item__bottom {
    display: flex; align-items: center; justify-content: space-between; gap: .5rem;
}
.inbox-item__preview {
    font-size: .82rem; color: var(--text-secondary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    flex: 1;
}
.inbox-item__count {
    font-size: .68rem; color: var(--accent-light);
    background: var(--accent-bg-strong);
    padding: .15rem .5rem; border-radius: 999px;
    flex-shrink: 0; font-weight: 600;
    border: 1px solid rgba(16,185,129,.15);
}

/* --- Chat View --- */
.chat-view {
    display: flex; flex-direction: column;
    height: calc(100vh - 3rem);
    animation: fadeInUp .25s var(--ease-out) both;
}
.chat-view--hidden { display: none !important; }

/* Top bar */
.chat-topbar {
    display: flex; align-items: center; gap: .85rem;
    padding: .85rem 1.1rem;
    border-radius: var(--radius);
    background: var(--bg-card);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--border-default);
    margin-bottom: .85rem;
    flex-shrink: 0;
}
.chat-topbar__info { flex: 1; min-width: 0; }
.chat-topbar__name {
    display: block; font-weight: 600; font-size: .95rem;
    color: var(--text-primary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.chat-topbar__phone {
    display: block; font-size: .75rem; color: var(--text-muted); font-family: 'SF Mono', ui-monospace, monospace;
}
.chat-topbar__status {
    display: flex; align-items: center; gap: .4rem;
    font-size: .75rem; color: var(--accent-light); flex-shrink: 0;
}

.btn--icon {
    width: 38px; height: 38px; padding: 0;
    display: inline-flex; align-items: center; justify-content: center;
    border-radius: 50%; flex-shrink: 0;
}
.btn--icon svg { width: 20px; height: 20px; }
.btn--ghost.btn--icon {
    background: rgba(255,255,255,.03); border: 1px solid var(--border-default);
    color: var(--text-secondary); cursor: pointer;
    transition: all var(--t-base);
}
.btn--ghost.btn--icon:hover {
    background: rgba(255,255,255,.07);
    border-color: var(--border-hover);
    color: var(--text-primary);
}

/* Messages area */
.chat-messages {
    flex: 1; overflow-y: auto;
    display: flex; flex-direction: column; gap: .45rem;
    padding: .85rem .6rem;
    scroll-behavior: smooth;
}

/* Chat Bubbles */
.chat-bubble {
    max-width: 72%; padding: .7rem 1rem;
    border-radius: var(--radius);
    animation: fadeInUp .2s var(--ease-out) both;
    position: relative;
    transition: all var(--t-fast);
}
.chat-bubble:hover { transform: scale(1.01); }

.chat-bubble--incoming {
    align-self: flex-start;
    background: var(--indigo-bg);
    border: 1px solid rgba(129,140,248,.1);
    border-bottom-left-radius: 4px;
}
.chat-bubble--outgoing {
    align-self: flex-end;
    background: var(--accent-bg);
    border: 1px solid rgba(16,185,129,.1);
    border-bottom-right-radius: 4px;
}
.chat-bubble__text {
    font-size: .88rem; line-height: 1.55;
    color: var(--text-primary);
    white-space: pre-wrap; word-break: break-word;
}
.chat-bubble__time {
    display: block; text-align: right;
    font-size: .68rem; color: var(--text-muted);
    margin-top: .3rem;
    font-variant-numeric: tabular-nums;
}

/* Input bar */
.chat-input-bar {
    display: flex; align-items: flex-end; gap: .6rem;
    padding: .75rem;
    border-radius: var(--radius);
    background: var(--bg-card);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    border: 1px solid var(--border-default);
    flex-shrink: 0;
    transition: border-color var(--t-base);
}
.chat-input-bar:focus-within {
    border-color: var(--border-hover);
}

.chat-input {
    flex: 1; resize: none;
    background: var(--bg-input);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-sm);
    padding: .65rem .9rem;
    font-size: .88rem; font-family: inherit;
    color: var(--text-primary);
    outline: none;
    min-height: 42px; max-height: 120px;
    transition: all var(--t-base);
    line-height: 1.5;
}
.chat-input:hover { border-color: var(--border-hover); }
.chat-input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(16,185,129,.1);
}
.chat-input::placeholder { color: var(--text-faint); }

.btn--primary.btn--icon {
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    color: #fff;
    border: none; cursor: pointer;
    transition: all var(--t-base);
    box-shadow: 0 2px 8px rgba(16,185,129,.2);
}
.btn--primary.btn--icon:hover {
    transform: scale(1.08);
    box-shadow: var(--shadow-glow-green);
}

/* Chat / Inbox scrollbar */
.chat-messages::-webkit-scrollbar,
.inbox-list::-webkit-scrollbar { width: 4px; }
.chat-messages::-webkit-scrollbar-track,
.inbox-list::-webkit-scrollbar-track { background: transparent; }
.chat-messages::-webkit-scrollbar-thumb,
.inbox-list::-webkit-scrollbar-thumb {
    background: var(--text-faint); border-radius: 2px;
}

/* ═══════════════════════════════════════════════════
   RESPONSE MODE TOGGLE
   ═══════════════════════════════════════════════════ */
.response-mode-toggle {
    display: flex; align-items: center; gap: .55rem;
    padding: .4rem .75rem;
    border-radius: var(--radius-sm);
    background: var(--bg-card);
    border: 1px solid var(--border-default);
    flex-shrink: 0;
    transition: all var(--t-base);
}
.response-mode-toggle:hover {
    border-color: var(--border-hover);
}
.response-mode-label {
    font-size: .78rem;
    color: var(--text-secondary);
    transition: all var(--t-base);
    cursor: default;
    user-select: none;
    white-space: nowrap;
}
.response-mode-label--alt {
    color: var(--accent-light);
}

/* ═══════════════════════════════════════════════════
   PENDING MESSAGE ALERT (semi-auto)
   ═══════════════════════════════════════════════════ */
.pending-alert {
    display: flex; align-items: center; gap: .85rem;
    padding: .85rem 1.1rem;
    border-radius: var(--radius);
    background: linear-gradient(135deg, rgba(129,140,248,.08), rgba(16,185,129,.06));
    border: 1px solid rgba(129,140,248,.2);
    margin-bottom: .85rem;
    animation: fadeInUp .3s var(--ease-out) both, pulseGlow 2s ease-in-out infinite;
    transition: all var(--t-base);
}
.pending-alert--hidden { display: none !important; }

@keyframes pulseGlow {
    0%, 100% { box-shadow: 0 0 0 0 rgba(129,140,248,.1); }
    50% { box-shadow: 0 0 20px 4px rgba(129,140,248,.15); }
}

.pending-alert__icon {
    width: 40px; height: 40px; flex-shrink: 0;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(129,140,248,.15), rgba(16,185,129,.1));
    border: 1px solid rgba(129,140,248,.2);
    display: flex; align-items: center; justify-content: center;
    animation: bellRing 1s ease-in-out;
}
.pending-alert__icon svg {
    width: 20px; height: 20px;
    stroke: var(--indigo);
}

@keyframes bellRing {
    0%, 100% { transform: rotate(0); }
    10% { transform: rotate(12deg); }
    20% { transform: rotate(-10deg); }
    30% { transform: rotate(8deg); }
    40% { transform: rotate(-6deg); }
    50% { transform: rotate(3deg); }
    60% { transform: rotate(0); }
}

.pending-alert__body {
    flex: 1; min-width: 0;
}
.pending-alert__body strong {
    display: block; font-size: .88rem;
    color: var(--text-primary);
    margin-bottom: .15rem;
}
.pending-alert__body p {
    font-size: .8rem; color: var(--text-secondary);
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
    margin: 0;
}
.pending-alert__actions {
    display: flex; align-items: center; gap: .4rem;
    flex-shrink: 0;
}
.pending-alert__actions .btn--sm {
    font-size: .75rem; padding: .35rem .65rem;
    gap: .3rem;
}

/* ═══════════════════════════════════════════════════
   PER-CHAT PAUSE BUTTON
   ═══════════════════════════════════════════════════ */
.chat-pause-btn {
    font-size: .75rem !important;
    padding: .3rem .65rem !important;
    gap: .3rem;
    display: inline-flex !important;
    align-items: center;
    border-radius: var(--radius-sm) !important;
    margin-right: .4rem;
    transition: all var(--t-base);
}
.chat-pause-btn svg {
    width: 14px; height: 14px;
    flex-shrink: 0;
}
.chat-pause-btn--paused {
    background: linear-gradient(135deg, var(--accent), var(--accent-dark)) !important;
    color: #fff !important;
    border: none !important;
    box-shadow: 0 2px 8px rgba(16,185,129,.2);
}
.chat-pause-btn--paused:hover {
    box-shadow: var(--shadow-glow-green);
    transform: scale(1.04);
}

/* Paused inbox item indicator */
.inbox-item--paused {
    opacity: .7;
    border-left: 3px solid var(--text-muted);
}
.inbox-item--paused:hover {
    opacity: .85;
}
.inbox-item__paused-badge {
    font-size: .72rem;
    vertical-align: middle;
    margin-left: .3rem;
    opacity: .7;
}

@media (max-width: 600px) {
    .inbox-search { width: 100%; }
    .inbox-header { flex-direction: column; align-items: stretch; }
    .inbox-header__actions { flex-direction: column; }
    .response-mode-toggle { justify-content: center; }
    .pending-alert { flex-direction: column; text-align: center; }
    .pending-alert__actions { flex-wrap: wrap; justify-content: center; }
    .chat-bubble { max-width: 90%; }
    .chat-view { height: calc(100vh - 2rem); }
}

/* ============================================================
   PLANS / SUBSCRIPTION
   ============================================================ */

/* Subscription status banner */
.sub-status {
    display: flex; align-items: center; gap: .9rem;
    padding: 1.1rem 1.35rem;
    border-radius: var(--radius);
    margin-bottom: 1.75rem;
    animation: fadeInUp .3s var(--ease-out) both;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
}
.sub-status--active {
    background: rgba(16,185,129,.06);
    border: 1px solid rgba(16,185,129,.15);
}
.sub-status--inactive {
    background: rgba(245,158,11,.05);
    border: 1px solid rgba(245,158,11,.12);
}
.sub-status__icon {
    width: 44px; height: 44px; flex-shrink: 0;
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
}
.sub-status__icon svg { width: 22px; height: 22px; }
.sub-status--active .sub-status__icon {
    background: rgba(16,185,129,.12); color: var(--accent-light);
    box-shadow: 0 0 16px rgba(16,185,129,.15);
}
.sub-status--inactive .sub-status__icon {
    background: rgba(245,158,11,.1); color: var(--warning);
}
.sub-status__info { flex: 1; }
.sub-status__info strong {
    display: block; font-size: .92rem; color: var(--text-primary);
}
.sub-status__info span {
    font-size: .8rem; color: var(--text-secondary);
}
.sub-status__badge {
    font-size: .72rem; font-weight: 700; padding: .3rem .75rem;
    border-radius: 999px; text-transform: uppercase; letter-spacing: .04em;
    flex-shrink: 0;
}
.sub-status__badge--active {
    background: rgba(16,185,129,.12); color: var(--accent-light);
    box-shadow: 0 0 12px rgba(16,185,129,.1);
}
.sub-status__badge--inactive {
    background: rgba(245,158,11,.1); color: var(--warning);
}

/* Plans grid */
.plans-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 1.25rem;
    margin-bottom: 1.75rem;
    align-items: start;
}

/* Plan card */
.plan-card {
    position: relative;
    display: flex; flex-direction: column;
    padding: 1.85rem 1.5rem;
    border-radius: var(--radius-xl);
    border: 1px solid var(--border-default);
    background: var(--bg-card);
    backdrop-filter: blur(16px);
    -webkit-backdrop-filter: blur(16px);
    transition: all .35s var(--ease-out);
    animation: fadeInUp .4s var(--ease-out) both;
    overflow: hidden;
}
.plan-card:nth-child(1) { animation-delay: .05s; }
.plan-card:nth-child(2) { animation-delay: .12s; }
.plan-card:nth-child(3) { animation-delay: .19s; }

/* Top edge shine */
.plan-card::before {
    content: '';
    position: absolute; top: 0; left: 15%; right: 15%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.06), transparent);
    pointer-events: none;
    transition: all var(--t-base);
}

.plan-card:hover {
    border-color: var(--border-hover);
    background: var(--bg-card-hover);
    transform: translateY(-6px);
    box-shadow: var(--shadow-lg);
}
.plan-card:hover::before {
    background: linear-gradient(90deg, transparent, rgba(255,255,255,.1), transparent);
}

/* ─ Popular card (Trimestral) ─ HERO treatment ─ */
.plan-card--popular {
    border-color: rgba(16,185,129,.25);
    background: linear-gradient(145deg, rgba(16,185,129,.06) 0%, rgba(16,185,129,.015) 100%);
    box-shadow: 0 0 40px rgba(16,185,129,.06), 0 0 80px rgba(16,185,129,.03);
    z-index: 2;
    transform: scale(1.02);
}
.plan-card--popular::before {
    background: linear-gradient(90deg, transparent, rgba(16,185,129,.2), transparent);
    left: 5%; right: 5%;
}
/* Animated gradient border on popular */
.plan-card--popular::after {
    content: '';
    position: absolute; inset: -1px;
    border-radius: var(--radius-xl);
    padding: 1px;
    background: linear-gradient(
        135deg,
        rgba(16,185,129,.4),
        rgba(16,185,129,.1),
        rgba(52,211,153,.3),
        rgba(16,185,129,.1),
        rgba(16,185,129,.4)
    );
    -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    pointer-events: none;
    animation: borderGlow 3s ease-in-out infinite;
}
.plan-card--popular:hover {
    transform: scale(1.02) translateY(-6px);
    border-color: rgba(16,185,129,.35);
    box-shadow: var(--shadow-glow-green-lg);
}

/* Badge */
.plan-card__badge {
    position: absolute; top: -1px; right: 20px;
    padding: .35rem .85rem;
    font-size: .7rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: .05em;
    border-radius: 0 0 var(--radius-sm) var(--radius-sm);
    background: linear-gradient(135deg, var(--accent-light), var(--accent));
    color: #fff;
    box-shadow: 0 4px 16px rgba(16,185,129,.3);
}
.plan-card__badge--gold {
    background: linear-gradient(135deg, #fbbf24, #d97706);
    box-shadow: 0 4px 16px rgba(245,158,11,.3);
}

/* Header */
.plan-card__header { margin-bottom: 1.1rem; }
.plan-card__name {
    font-size: 1.25rem; font-weight: 700; color: var(--text-primary);
    margin-bottom: .25rem; letter-spacing: -.3px;
}
.plan-card__desc {
    font-size: .82rem; color: var(--text-secondary);
}
.plan-card--popular .plan-card__desc { color: var(--accent-light); font-weight: 500; }

/* Price */
.plan-card__price {
    display: flex; align-items: baseline; gap: .4rem;
    margin-bottom: .6rem;
}
.plan-card__amount {
    font-size: 2.5rem; font-weight: 800;
    color: var(--text-primary);
    letter-spacing: -.04em;
    line-height: 1;
}
.plan-card--popular .plan-card__amount {
    background: linear-gradient(135deg, #fff 0%, var(--accent-lighter) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.plan-card__currency {
    font-size: .86rem; color: var(--text-secondary); font-weight: 500;
}

/* Savings line */
.plan-card__savings {
    font-size: .78rem; font-weight: 600;
    color: var(--accent-light);
    margin-bottom: .85rem;
    padding: .35rem .7rem;
    background: var(--accent-bg-strong);
    border: 1px solid rgba(16,185,129,.12);
    border-radius: var(--radius-xs);
    display: inline-block;
}

/* Features list */
.plan-card__features {
    list-style: none; flex: 1;
    margin-bottom: 1.35rem;
}
.plan-card__features li {
    display: flex; align-items: center; gap: .6rem;
    padding: .4rem 0;
    font-size: .85rem; color: var(--text-secondary);
    line-height: 1.4;
}
.plan-card__features li svg {
    width: 16px; height: 16px; flex-shrink: 0;
    color: var(--accent);
}
.plan-card__features li strong {
    color: var(--accent-light);
}

/* Outline button */
.btn--outline {
    background: transparent;
    border: 1px solid var(--border-hover);
    color: var(--text-primary);
    padding: .75rem 1rem;
    font-size: .9rem; font-weight: 600;
    border-radius: var(--radius-sm);
    cursor: pointer;
    font-family: inherit;
    transition: all var(--t-base);
    display: inline-flex; align-items: center; justify-content: center; gap: .4rem;
}
.btn--outline:hover {
    border-color: var(--accent);
    background: var(--accent-bg);
    color: var(--accent-light);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(16,185,129,.1);
}

/* Primary CTA inside popular card */
.plan-card--popular .btn--primary {
    background: linear-gradient(135deg, var(--accent), var(--accent-dark));
    color: #fff;
    box-shadow: 0 2px 12px rgba(16,185,129,.25);
}
.plan-card--popular .btn--primary:hover {
    box-shadow: var(--shadow-glow-green);
    filter: brightness(1.1);
}

/* Block button */
.btn--block { width: 100%; justify-content: center; }

/* Plans footer */
.plans-footer {
    text-align: center; padding-top: 1.25rem;
}
.plans-footer__secure {
    display: inline-flex; align-items: center; gap: .5rem;
    font-size: .8rem; color: var(--text-muted);
    padding: .6rem 1rem;
    border-radius: 999px;
    background: rgba(255,255,255,.02);
    border: 1px solid var(--border-subtle);
}
.plans-footer__secure svg { color: var(--accent); flex-shrink: 0; }

@media (max-width: 680px) {
    .plans-grid { grid-template-columns: 1fr; }
    .plan-card--popular { transform: scale(1); }
    .plan-card--popular:hover { transform: translateY(-6px); }
}

/* ============================================================
   TOAST NOTIFICATION
   ============================================================ */
.toast {
    position: fixed; bottom: 1.5rem; right: 1.5rem;
    padding: .9rem 1.35rem;
    border-radius: var(--radius);
    font-size: .86rem; font-weight: 500;
    color: var(--text-primary);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    border: 1px solid var(--border-default);
    box-shadow: var(--shadow-lg);
    transform: translateY(120%);
    opacity: 0;
    transition: all .4s var(--ease-spring);
    z-index: 500;
    max-width: 400px;
}
.toast--visible { transform: translateY(0); opacity: 1; }
.toast--success {
    background: rgba(16,185,129,.1);
    border-color: rgba(16,185,129,.2);
    box-shadow: var(--shadow-lg), 0 0 20px rgba(16,185,129,.1);
}
.toast--error {
    background: rgba(239,68,68,.1);
    border-color: rgba(239,68,68,.2);
    box-shadow: var(--shadow-lg), 0 0 20px rgba(239,68,68,.1);
}

/* ============================================================
   RESPONSIVE
   ============================================================ */
@media (max-width: 768px) {
    .sidebar { transform: translateX(-100%); }
    .sidebar--open { transform: translateX(0); }

    .hamburger { display: flex; }

    .main {
        margin-left: 0;
        padding: 1.5rem 1rem;
        padding-top: 4.5rem;
    }

    .connection-panel {
        grid-template-columns: 1fr;
    }

    .cards { grid-template-columns: 1fr; }
}

@media (max-width: 480px) {
    .schedule-row { gap: .4rem; }
    .schedule-row__day { width: 70px; font-size: .8rem; }
    .form__input--sm { max-width: 100px; }
}

/* ============================================================
   AUTH PAGE
   ============================================================ */
/* Back to landing link */
.auth-back {
    position: fixed;
    top: 1.25rem; left: 1.25rem;
    display: inline-flex; align-items: center; gap: .35rem;
    color: var(--text-muted);
    text-decoration: none;
    font-size: .82rem; font-weight: 500;
    padding: .4rem .75rem;
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    background: rgba(255,255,255,.02);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    transition: all .2s ease;
    z-index: 10;
}
.auth-back:hover {
    color: var(--accent-light);
    border-color: rgba(16,185,129,.2);
    background: rgba(16,185,129,.05);
}

/* Landing promo card */
.auth-promo {
    text-align: center;
    padding: 1rem 1.5rem;
    border-radius: var(--radius);
    border: 1px solid var(--border-subtle);
    background: rgba(255,255,255,.015);
    width: 100%;
}
.auth-promo p {
    color: var(--text-muted);
    font-size: .82rem;
    margin-bottom: .5rem;
}
.auth-promo__link {
    display: inline-flex; align-items: center; gap: .4rem;
    color: var(--accent-light);
    text-decoration: none;
    font-size: .85rem; font-weight: 600;
    transition: all .2s ease;
}
.auth-promo__link:hover {
    color: var(--accent);
    gap: .6rem;
}

.auth-body {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--bg-base);
    background-image:
        radial-gradient(ellipse 80% 60% at 30% 20%, rgba(16,185,129,.06) 0%, transparent 55%),
        radial-gradient(ellipse 60% 50% at 70% 80%, rgba(99,102,241,.04) 0%, transparent 50%),
        radial-gradient(ellipse 40% 40% at 50% 0%, rgba(16,185,129,.03) 0%, transparent 45%),
        linear-gradient(180deg, #050507 0%, #08080d 50%, #0a0a10 100%);
    padding: 2rem 1rem;
    font-family: 'Inter', system-ui, sans-serif;
}

.auth-container {
    width: 100%;
    max-width: 440px;
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1.75rem;
}

/* Brand */
.auth-brand { text-align: center; color: var(--text-primary); }
.auth-brand__logo {
    width: 80px; height: 80px;
    border-radius: 16px;
    object-fit: contain;
    margin-bottom: .65rem;
    filter: drop-shadow(0 0 20px rgba(16,185,129,.3));
}
.auth-brand__name {
    font-size: 2.2rem; font-weight: 800; margin: 0;
    letter-spacing: -.6px;
    background: linear-gradient(135deg, var(--text-primary) 0%, rgba(240,240,245,.65) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
.auth-brand__tagline {
    color: var(--text-secondary); font-size: .95rem; margin: .3rem 0 0;
}

/* Card */
.auth-card {
    background: rgba(255,255,255,.025);
    backdrop-filter: blur(24px);
    -webkit-backdrop-filter: blur(24px);
    border: 1px solid var(--border-default);
    border-radius: var(--radius-xl);
    padding: 2.25rem;
    width: 100%;
    box-shadow: var(--shadow-xl);
    animation: fadeInUp .5s var(--ease-out);
    position: relative;
    overflow: hidden;
}
/* Top shine */
.auth-card::before {
    content: '';
    position: absolute; top: 0; left: 10%; right: 10%;
    height: 1px;
    background: linear-gradient(90deg, transparent, rgba(16,185,129,.15), transparent);
    pointer-events: none;
}
.auth-card--hidden { display: none; }

.auth-card__title {
    font-size: 1.5rem; font-weight: 700; color: var(--text-primary);
    margin: 0 0 .3rem; letter-spacing: -.3px;
}
.auth-card__subtitle { color: var(--text-secondary); font-size: .9rem; margin: 0 0 1.5rem; }
.auth-card__footer {
    text-align: center; margin-top: 1.35rem; padding-top: 1.35rem;
    border-top: 1px solid var(--border-subtle); color: var(--text-secondary); font-size: .9rem;
}
.auth-card__footer p { margin: 0; }

.auth-link {
    color: var(--accent); font-weight: 600; text-decoration: none;
    transition: color var(--t-fast);
}
.auth-link:hover { color: var(--accent-light); text-decoration: underline; }

/* Auth Form */
.auth-form { display: flex; flex-direction: column; gap: 1.15rem; }
.auth-form__group { display: flex; flex-direction: column; gap: .4rem; }
.auth-form__label {
    font-size: .76rem; font-weight: 600; color: var(--text-secondary);
    text-transform: uppercase; letter-spacing: .5px;
}

.auth-form__input-wrap {
    position: relative;
    display: flex;
    align-items: center;
}
.auth-form__input-wrap > svg {
    position: absolute; left: 12px;
    width: 18px; height: 18px;
    color: var(--text-muted); pointer-events: none;
    stroke-width: 1.5;
    transition: color var(--t-base);
}
.auth-form__input-wrap:focus-within > svg { color: var(--accent); }

.auth-form__input {
    width: 100%;
    padding: .8rem .85rem .8rem 2.85rem;
    font-size: .95rem;
    border: 1px solid var(--border-default);
    border-radius: var(--radius-sm);
    background: var(--bg-input);
    color: var(--text-primary);
    font-family: inherit;
    outline: none;
    transition: all var(--t-base);
}
.auth-form__input:hover {
    border-color: var(--border-hover);
}
.auth-form__input:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(16,185,129,.12), 0 0 20px rgba(16,185,129,.06);
    background: var(--bg-input-focus);
}
.auth-form__input::placeholder { color: var(--text-faint); }

.auth-form__eye {
    position: absolute; right: 10px;
    background: none; border: none; cursor: pointer;
    padding: 4px; color: var(--text-muted);
    transition: color var(--t-fast);
}
.auth-form__eye:hover { color: var(--text-secondary); }
.auth-form__eye svg { width: 18px; height: 18px; }

.auth-form__error {
    color: var(--danger); font-size: .85rem; font-weight: 500;
    min-height: 1.2em; text-align: center;
}
.auth-form__error:empty { display: none; }

/* Separator */
.auth-separator {
    display: flex; align-items: center; gap: .85rem;
    margin: 1.35rem 0;
    color: var(--text-muted); font-size: .82rem;
}
.auth-separator::before,
.auth-separator::after {
    content: ''; flex: 1; height: 1px;
    background: linear-gradient(90deg, transparent, var(--border-default), transparent);
}

/* Google button */
.btn--google {
    width: 100%;
    display: flex; align-items: center; justify-content: center; gap: .6rem;
    padding: .75rem 1rem;
    font-size: .92rem; font-weight: 500;
    border: 1px solid var(--border-hover);
    border-radius: var(--radius-sm);
    background: rgba(255,255,255,.03);
    color: var(--text-primary);
    cursor: pointer;
    font-family: inherit;
    transition: all var(--t-base);
}
.btn--google:hover {
    border-color: var(--border-strong);
    background: rgba(255,255,255,.06);
    transform: translateY(-2px);
    box-shadow: var(--shadow-sm);
}
.btn--google svg { flex-shrink: 0; }

/* Loading state */
.btn--loading {
    position: relative;
    color: transparent !important;
    pointer-events: none;
}
.btn--loading::after {
    content: '';
    position: absolute;
    width: 20px; height: 20px;
    border: 3px solid rgba(255,255,255,.2);
    border-top-color: #fff;
    border-radius: 50%;
    animation: btnSpin .6s linear infinite;
}
@keyframes btnSpin { to { transform: rotate(360deg); } }

/* Features strip */
.auth-features { display: flex; gap: 1.5rem; justify-content: center; flex-wrap: wrap; }
.auth-feature {
    display: flex; align-items: center; gap: .4rem;
    color: var(--text-muted); font-size: .8rem;
}
.auth-feature svg {
    width: 16px; height: 16px;
    color: var(--accent); stroke-width: 1.5;
    filter: drop-shadow(0 0 4px rgba(16,185,129,.2));
}

/* Auth responsive */
@media (max-width: 480px) {
    .auth-card { padding: 1.65rem; }
    .auth-brand__name { font-size: 1.8rem; }
    .auth-features { flex-direction: column; align-items: center; gap: .75rem; }
}

/* Spinner utility */
.spinner {
    display: inline-block;
    width: 16px; height: 16px;
    border: 2px solid rgba(255,255,255,.2);
    border-top-color: #fff;
    border-radius: 50%;
    animation: btnSpin .6s linear infinite;
}

/* ============================================================
   SELECTION & FOCUS VISIBLE
   ============================================================ */
::selection {
    background: rgba(16,185,129,.2);
    color: var(--text-primary);
}

:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
}

/* ============================================================
   TRIAL MODAL OVERLAY
   ============================================================ */
.trial-modal-overlay {
    position: fixed;
    top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(0,0,0,.7);
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(4px);
}
.trial-modal {
    background: var(--surface);
    border: 1px solid var(--border);
    border-radius: 1rem;
    padding: 2.5rem 2rem;
    max-width: 440px;
    width: 90%;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,.4);
}
.trial-modal__icon {
    margin-bottom: 1rem;
    color: #f59e0b;
}
.trial-modal__title {
    font-size: 1.35rem;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: .75rem;
}
.trial-modal__text {
    font-size: .95rem;
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
    line-height: 1.5;
}

/* ============================================================
   TRIAL BANNER (floating)
   ============================================================ */
.trial-banner {
    position: fixed;
    bottom: 1.5rem;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #f59e0b, #d97706);
    color: #fff;
    padding: .65rem 1.5rem;
    border-radius: 999px;
    font-size: .85rem;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 1rem;
    z-index: 1000;
    box-shadow: 0 4px 20px rgba(245,158,11,.4);
    animation: bannerSlideUp .4s ease;
}
.trial-banner .btn {
    background: rgba(255,255,255,.2);
    border: 1px solid rgba(255,255,255,.4);
    color: #fff;
    font-size: .78rem;
    padding: .3rem .8rem;
}
.trial-banner .btn:hover {
    background: rgba(255,255,255,.35);
}
@keyframes bannerSlideUp {
    from { transform: translateX(-50%) translateY(100%); opacity: 0; }
    to   { transform: translateX(-50%) translateY(0);    opacity: 1; }
}
}
/* ══════════════════════════════════════════════════════════
   VENTAS (BETA) — Sales Analysis Section
   ══════════════════════════════════════════════════════════ */

/* Beta badge in sidebar */
.sidebar__beta-badge {
    display: inline-flex;
    align-items: center;
    padding: 1px 6px;
    font-size: .6rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .04em;
    color: #fff;
    background: linear-gradient(135deg, var(--accent), var(--indigo));
    border-radius: 20px;
    margin-left: auto;
    line-height: 1.4;
}

/* Beta tag next to title */
.beta-tag {
    display: inline-flex;
    align-items: center;
    padding: 2px 10px;
    font-size: .7rem;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: .05em;
    color: #fff;
    background: linear-gradient(135deg, var(--accent), var(--indigo));
    border-radius: 20px;
    vertical-align: middle;
    margin-left: .5rem;
}

/* Header layout */
.ventas-header {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.5rem;
    flex-wrap: wrap;
}
.ventas-header__left {
    flex: 1;
    min-width: 200px;
}

/* Stats cards row */
.ventas-stats {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-bottom: 2rem;
    animation: fadeInUp .4s ease;
}

.ventas-stat-card {
    display: flex;
    align-items: center;
    gap: 1rem;
    padding: 1.25rem 1.5rem;
    background: var(--bg-card);
    border: var(--glass-border);
    border-radius: var(--radius);
    backdrop-filter: var(--glass-blur);
    transition: border-color var(--t-base) var(--ease-out),
                transform var(--t-base) var(--ease-out);
}
.ventas-stat-card:hover {
    border-color: var(--border-hover);
    transform: translateY(-2px);
}

.ventas-stat-card__icon {
    width: 44px;
    height: 44px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: var(--radius-sm);
    flex-shrink: 0;
}
.ventas-stat-card__icon svg {
    width: 22px;
    height: 22px;
}

.ventas-stat-card--sales .ventas-stat-card__icon {
    background: rgba(16, 185, 129, .12);
    color: var(--accent-light);
}
.ventas-stat-card--appointments .ventas-stat-card__icon {
    background: rgba(129, 140, 248, .12);
    color: var(--indigo);
}
.ventas-stat-card--leads .ventas-stat-card__icon {
    background: rgba(245, 158, 11, .12);
    color: var(--warning);
}
.ventas-stat-card--conversations .ventas-stat-card__icon {
    background: rgba(148, 148, 168, .12);
    color: var(--text-secondary);
}

.ventas-stat-card__body {
    display: flex;
    flex-direction: column;
}
.ventas-stat-card__value {
    font-size: 1.6rem;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1.2;
}
.ventas-stat-card__label {
    font-size: .78rem;
    color: var(--text-secondary);
    margin-top: 2px;
}

/* Loading state */
.ventas-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    text-align: center;
}
.ventas-loading__spinner {
    width: 48px;
    height: 48px;
    border: 3px solid var(--border-default);
    border-top-color: var(--accent);
    border-radius: 50%;
    animation: spin .8s linear infinite;
    margin-bottom: 1.5rem;
}
@keyframes spin {
    to { transform: rotate(360deg); }
}
.ventas-loading__text {
    font-size: 1.05rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 .4rem;
}
.ventas-loading__subtext {
    font-size: .85rem;
    color: var(--text-muted);
    margin: 0;
}

/* Empty state */
.ventas-empty {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 4rem 2rem;
    text-align: center;
}
.ventas-empty__icon {
    width: 80px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--accent-bg);
    border-radius: 50%;
    color: var(--accent);
    margin-bottom: 1.5rem;
}
.ventas-empty h3 {
    font-size: 1.15rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0 0 .5rem;
}
.ventas-empty p {
    font-size: .9rem;
    color: var(--text-secondary);
    max-width: 420px;
    line-height: 1.6;
    margin: 0;
}

/* Results section */
.ventas-results__header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: 1.25rem;
    flex-wrap: wrap;
}
.ventas-results__header h2 {
    font-size: 1.1rem;
    font-weight: 600;
    color: var(--text-primary);
    margin: 0;
}

/* Filter buttons */
.ventas-results__filters {
    display: flex;
    gap: .4rem;
    flex-wrap: wrap;
}
.ventas-filter {
    padding: .35rem .85rem;
    font-size: .78rem;
    font-weight: 500;
    background: var(--bg-card);
    border: 1px solid var(--border-default);
    border-radius: 20px;
    color: var(--text-secondary);
    cursor: pointer;
    transition: all var(--t-fast) var(--ease-out);
}
.ventas-filter:hover {
    border-color: var(--accent);
    color: var(--text-primary);
}
.ventas-filter--active {
    background: var(--accent-bg);
    border-color: var(--accent);
    color: var(--accent-light);
}

/* Individual result card */
.ventas-item {
    background: var(--bg-card);
    border: var(--glass-border);
    border-radius: var(--radius);
    padding: 1.25rem 1.5rem;
    margin-bottom: .75rem;
    backdrop-filter: var(--glass-blur);
    transition: border-color var(--t-base) var(--ease-out);
    animation: fadeInUp .3s ease;
}
.ventas-item:hover {
    border-color: var(--border-hover);
}

.ventas-item__top {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 1rem;
    margin-bottom: .75rem;
}

.ventas-item__contact {
    display: flex;
    align-items: center;
    gap: .75rem;
}
.ventas-item__avatar {
    width: 38px;
    height: 38px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: .8rem;
    font-weight: 700;
    color: #fff;
    flex-shrink: 0;
}
.ventas-item__avatar--sale { background: linear-gradient(135deg, var(--accent-dark), var(--accent)); }
.ventas-item__avatar--appointment { background: linear-gradient(135deg, #6366f1, var(--indigo)); }
.ventas-item__avatar--lead { background: linear-gradient(135deg, #d97706, var(--warning)); }
.ventas-item__avatar--no_result { background: linear-gradient(135deg, #4a4a5e, var(--text-muted)); }

.ventas-item__name {
    font-weight: 600;
    color: var(--text-primary);
    font-size: .92rem;
}
.ventas-item__phone {
    font-size: .78rem;
    color: var(--text-muted);
}

/* Status badge */
.ventas-badge {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    padding: .25rem .7rem;
    font-size: .72rem;
    font-weight: 600;
    border-radius: 20px;
    text-transform: uppercase;
    letter-spacing: .03em;
    white-space: nowrap;
}
.ventas-badge--sale {
    background: rgba(16, 185, 129, .12);
    color: var(--accent-light);
    border: 1px solid rgba(16, 185, 129, .25);
}
.ventas-badge--appointment {
    background: rgba(129, 140, 248, .12);
    color: var(--indigo);
    border: 1px solid rgba(129, 140, 248, .25);
}
.ventas-badge--lead {
    background: rgba(245, 158, 11, .12);
    color: var(--warning);
    border: 1px solid rgba(245, 158, 11, .25);
}
.ventas-badge--no_result {
    background: rgba(148, 148, 168, .08);
    color: var(--text-muted);
    border: 1px solid rgba(148, 148, 168, .15);
}

/* Summary text */
.ventas-item__summary {
    font-size: .88rem;
    color: var(--text-secondary);
    line-height: 1.6;
    margin: 0 0 .75rem;
}

/* Details list */
.ventas-item__details {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem .75rem;
    margin-bottom: .5rem;
}
.ventas-detail {
    display: flex;
    align-items: center;
    gap: .3rem;
    font-size: .78rem;
    color: var(--text-secondary);
}
.ventas-detail__label {
    color: var(--text-muted);
}
.ventas-detail__value {
    font-weight: 600;
    color: var(--text-primary);
}

/* Expandable conversation preview */
.ventas-item__toggle {
    display: inline-flex;
    align-items: center;
    gap: .3rem;
    font-size: .78rem;
    color: var(--accent);
    cursor: pointer;
    background: none;
    border: none;
    padding: .3rem 0;
    transition: color var(--t-fast);
}
.ventas-item__toggle:hover {
    color: var(--accent-light);
}
.ventas-item__toggle svg {
    width: 14px;
    height: 14px;
    transition: transform var(--t-fast);
}
.ventas-item__toggle--open svg {
    transform: rotate(180deg);
}

.ventas-item__preview {
    display: none;
    margin-top: .75rem;
    padding: .75rem 1rem;
    background: var(--bg-secondary);
    border-radius: var(--radius-sm);
    border: 1px solid var(--border-subtle);
    max-height: 300px;
    overflow-y: auto;
}
.ventas-item__preview--open {
    display: block;
    animation: fadeInUp .2s ease;
}

.ventas-preview-msg {
    padding: .3rem 0;
    font-size: .8rem;
    line-height: 1.5;
}
.ventas-preview-msg--incoming {
    color: var(--text-secondary);
}
.ventas-preview-msg--outgoing {
    color: var(--accent-light);
}
.ventas-preview-msg__sender {
    font-weight: 600;
    margin-right: .4rem;
}

@keyframes fadeInUp {
    from { opacity: 0; transform: translateY(10px); }
    to   { opacity: 1; transform: translateY(0); }
}

/* Responsive */
@media (max-width: 768px) {
    .ventas-header {
        flex-direction: column;
    }
    .ventas-stats {
        grid-template-columns: repeat(2, 1fr);
    }
    .ventas-results__header {
        flex-direction: column;
        align-items: stretch;
    }
    .ventas-item__top {
        flex-direction: column;
        align-items: flex-start;
    }
}
@media (max-width: 480px) {
    .ventas-stats {
        grid-template-columns: 1fr;
    }
}